# –†–µ—à–µ–Ω–∏–µ –¥–ª—è CSV —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º

## üéØ **–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥**

–í–º–µ—Å—Ç–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ CSV —ç–∫—Å–ø–æ—Ä—Ç–∞ Redmine, —Å–æ–∑–¥–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π.

## üîß **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è**

### **1. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —ç–∫—Å–ø–æ—Ä—Ç–∞**
**–§–∞–π–ª:** `app/controllers/project_progress_export_controller.rb`
- ‚úÖ **–û—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- ‚úÖ **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è CSV** —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å—Ç–æ–ª–±—Ü–∞–º–∏
- ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### **2. –ú–∞—Ä—à—Ä—É—Ç**
**–§–∞–π–ª:** `config/routes.rb`
```ruby
get 'project_progress_export', to: 'project_progress_export#index', as: 'project_progress_export'
```

### **3. –ö–Ω–æ–ø–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞**
**–§–∞–π–ª:** `lib/redmine_project_progress_hooks.rb`
- ‚úÖ **–•—É–∫** `view_projects_index_bottom` –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ **–°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞** —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞** –Ω–∞ —ç–∫—Å–ø–æ—Ä—Ç CSV

## üìä **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ CSV —Ñ–∞–π–ª–∞**

### **–°—Ç–æ–ª–±—Ü—ã:**
1. **Name** - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
2. **Description** - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞  
3. **Homepage** - –î–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
4. **Is public** - –ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (–î–∞/–ù–µ—Ç)
5. **Created** - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
6. **Updated** - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
7. **Progress (%)** - –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
8. **Closed Issues** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫—Ä—ã—Ç—ã—Ö –∑–∞–¥–∞—á
9. **Total Issues** - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á

### **–ü—Ä–∏–º–µ—Ä CSV:**
```csv
Name,Description,Homepage,Is public,Created,Updated,Progress (%),Closed Issues,Total Issues
1_prepare_events,–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞,,–ù–µ—Ç,2025-01-01,2025-01-15,58.5,4,8
1_2_test_launch,–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ,,–ù–µ—Ç,2025-01-03,2025-01-17,100,5,5
```

## üöÄ **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ–µ–∫—Ç–æ–≤** (`/projects`)
2. **–ù–∞–π–¥–∏—Ç–µ –±–ª–æ–∫** "–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º"
3. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É** "–°–∫–∞—á–∞—Ç—å CSV —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º"
4. **–ü–æ–ª—É—á–∏—Ç–µ —Ñ–∞–π–ª** `projects_with_progress_YYYYMMDD.csv`

## ‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞**

- ‚úÖ **–ù–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π CSV —ç–∫—Å–ø–æ—Ä—Ç Redmine
- ‚úÖ **–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞** —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã** —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** - —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø—Ä–∏ –æ—à–∏–±–∫–µ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è 0
- ‚úÖ **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–≤–æ–¥—ã Redmine

## üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤** - —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞** - –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–∞–º
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

## üìù **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:**
- –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `ApplicationController`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `before_action :authorize_global`
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç CSV —á–µ—Ä–µ–∑ `CSV.generate`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ `send_data`

### **–•—É–∫:**
- –î–æ–±–∞–≤–ª—è–µ—Ç HTML –±–ª–æ–∫ —Å –∫–Ω–æ–ø–∫–æ–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ERB –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Å—ã–ª–∫–∏
- –°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Redmine

### **–ú–∞—Ä—à—Ä—É—Ç:**
- –ü—Ä–æ—Å—Ç–æ–π GET –º–∞—Ä—à—Ä—É—Ç
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç CSV
- –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
